this.FlynSyntax=function(e){var t={};function i(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.jQuery},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.blockEditor},function(e,t,i){"use strict";i.r(t);var o=i(0),s=i(4),r=i(5),n=i(1),a=e=>{const{geshi:t,startingLine:i,highlightLines:s,content:r}=e.attributes,n=document.createElement("pre");return n.setAttribute("lang",t),n.setAttribute("line",i),n.setAttribute("highlight",s),n.setAttribute("escaped",1),n.innerHTML=r,Object(o.createElement)("div",{style:{overflow:"auto"}},Object(o.createElement)("pre",null,n.outerHTML))},l=({viewMode:e,setViewMode:t})=>Object(o.createElement)("div",{className:"codemirror-block"},Object(o.createElement)(n.Panel,{className:"components-panel__header edit-post-sidebar-header edit-post-sidebar__panel-tabs"},Object(o.createElement)("ul",{className:"codemirror-tabs"},Object(o.createElement)("li",null,Object(o.createElement)("button",{className:"components-button edit-post-sidebar__panel-tab "+("visual"===e?"is-active":""),onClick:()=>t("visual")},"Visual")),Object(o.createElement)("li",null,Object(o.createElement)("button",{className:"components-button edit-post-sidebar__panel-tab "+("generated"===e?"is-active":""),onClick:()=>t("generated")},"Generated"))))),c=i(2),d=i(3),m=i.n(d),g=e=>{const t=Object(o.useRef)(null),[i,s]=Object(o.useState)();return Object(o.useEffect)(()=>{if(i||!t.current)return;const o=wp.codeEditor.defaultSettings?Object(c.clone)(wp.codeEditor.defaultSettings):{};o.codemirror=Object(c.extend)({},o.codemirror,{mode:e.attributes.mode,firstLineNumber:e.attributes.startingLine,lineWrapping:!1,lint:!1}),window.CodeMirror=wp.CodeMirror;const r=wp.codeEditor.initialize(t.current,o);r.codemirror.on("change",(function(t){e.setAttributes({content:t.getValue()})})),s(r),m()(t.current).data("initiated",!0)},[t.current]),Object(o.useEffect)(()=>{i&&(e.attributes.mode in wp.CodeMirror.modes?i.codemirror.setOption("mode",e.attributes.mode):m.a.ajax({url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/mode/"+e.attributes.mode+"/"+e.attributes.mode+".min.js",dataType:"script",success(){i.codemirror.setOption("mode",e.attributes.mode)},async:!0}))},[e.attributes.mode,i]),Object(o.useEffect)(()=>{i&&i.codemirror.setOption("firstLineNumber",parseInt(e.attributes.startingLine))},[e.attributes.startingLine]),Object(o.createElement)(n.BaseControl,null,Object(o.createElement)("textarea",{ref:t},e.attributes.content))},u=e=>{const[t,i]=Object(o.useState)("visual");return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(l,{viewMode:t,setViewMode:i}),"visual"===t&&Object(o.createElement)(g,e),"visual"!==t&&Object(o.createElement)(a,e))},h=[{mode:"apl",geshi:"applescript"},{mode:"clike",geshi:"c"},{mode:"clojure",geshi:"clojure"},{mode:"cmake",geshi:"cmake"},{mode:"cobol",geshi:"cobol"},{mode:"coffeescript",geshi:"coffeescript"},{mode:"commonlisp",geshi:"lisp"},{mode:"css",geshi:"css"},{mode:"d",geshi:"d"},{mode:"dart",geshi:"dart"},{mode:"diff",geshi:"diff"},{mode:"eiffel",geshi:"eiffel"},{mode:"erlang",geshi:"erlang"},{mode:"go",geshi:"go"},{mode:"groovy",geshi:"groovy"},{mode:"handlebars",geshi:"twig"},{mode:"haskell",geshi:"haskell"},{mode:"haskell-literate",geshi:"haskell"},{mode:"haxe",geshi:"haxe"},{mode:"htmlembedded",geshi:"html5"},{mode:"htmlmixed",geshi:"html5"},{mode:"idl",geshi:"idl"},{mode:"javascript",geshi:"javascript"},{mode:"jsx",geshi:"javascript"},{mode:"julia",geshi:"julia"},{mode:"lua",geshi:"lua"},{mode:"mathematica",geshi:"mathematica"},{mode:"mirc",geshi:"mirc"},{mode:"nginx",geshi:"nginx"},{mode:"nsis",geshi:"nsis"},{mode:"octave",geshi:"octave"},{mode:"oz",geshi:"oz"},{mode:"pascal",geshi:"pascal"},{mode:"perl",geshi:"perl"},{mode:"php",geshi:"php"},{mode:"powershell",geshi:"powershell"},{mode:"properties",geshi:"properties"},{mode:"python",geshi:"python"},{mode:"q",geshi:"q"},{mode:"rpm",geshi:"rpmspec"},{mode:"ruby",geshi:"ruby"},{mode:"rust",geshi:"rust"},{mode:"sas",geshi:"sas"},{mode:"sass",geshi:"sass"},{mode:"scheme",geshi:"scheme"},{mode:"shell",geshi:"bash"},{mode:"smalltalk",geshi:"smalltalk"},{mode:"smarty",geshi:"smarty"},{mode:"sparql",geshi:"sparql"},{mode:"sql",geshi:"sql"},{mode:"swift",geshi:"swift"},{mode:"tcl",geshi:"tcl"},{mode:"twig",geshi:"twig"},{mode:"vb",geshi:"vb"},{mode:"vbscript",geshi:"vbscript"},{mode:"verilog",geshi:"verilog"},{mode:"vhdl",geshi:"vhdl"},{mode:"vue",geshi:"twig"},{mode:"xml",geshi:"xml"},{mode:"yaml",geshi:"yaml"},{mode:"z80",geshi:"z80"}];Object(s.registerBlockType)("flynsarmy/syntax-editor",{title:"Code Block",icon:"editor-code",category:"formatting",description:"Displays a syntax-highlighted code snippet.",attributes:{content:{type:"string",default:""},mode:{type:"string",default:"php"},geshi:{type:"string",default:"php"},startingLine:{type:"integer",default:1},highlightLines:{type:"string"}},edit(e){const{setAttributes:t}=e;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(r.InspectorControls,null,Object(o.createElement)(n.PanelBody,{title:"Code Settings"},Object(o.createElement)(n.SelectControl,{label:"Language",onChange:e=>{const i=h.filter(t=>t.mode===e)[0];t({mode:e,geshi:i.geshi})},value:e.attributes.mode,options:h.flatMap(e=>({value:e.mode,label:e.mode}))}),Object(o.createElement)(n.TextControl,{type:"integer",label:"Starting line number.",value:e.attributes.startingLine,help:"Set to 0 to hide line numbers.",onChange:e=>{const i=parseInt(e.replace(/([^0-9]+)/gi,""));t({startingLine:isNaN(i)?0:i})},style:{width:"100%"}}),Object(o.createElement)(n.TextControl,{type:"string",label:"Highlight the specified lines.",value:e.attributes.highlightLines,help:"e.g 3-5, 10, 12",onChange:e=>{t({highlightLines:e.replace(/([^0-9,\-]*)/gi,"")})},style:{width:"100%"}}))),Object(o.createElement)(u,e))},save:e=>Object(o.createElement)("pre",{lang:e.attributes.mode,line:e.attributes.startingLine,highlight:e.attributes.highlightLines},e.attributes.content)})}]);