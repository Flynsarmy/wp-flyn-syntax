this.FlynSyntax=function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=12)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t,i){var r=i(7),n=i(8),o=i(9),s=i(11);e.exports=function(e,t){return r(e)||n(e,t)||o(e,t)||s()}},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.jQuery}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return i}}},function(e,t,i){var r=i(10);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,i){"use strict";i.r(t);var r=i(0),n=i(5),o=i(6),s=i(1),a=i(2),l=i.n(a),c=function(e){var t=e.attributes,i=t.geshi,n=t.startingLine,o=t.highlightLines,s=t.content,a=document.createElement("pre");return a.setAttribute("lang",i),a.setAttribute("line",n),a.setAttribute("highlight",o),a.setAttribute("escaped",1),a.innerHTML=s,Object(r.createElement)("div",{style:{overflow:"auto"}},Object(r.createElement)("pre",null,a.outerHTML))},u=function(e){var t=e.viewMode,i=e.setViewMode;return Object(r.createElement)("div",{className:"codemirror-block"},Object(r.createElement)(s.Panel,{className:"components-panel__header edit-post-sidebar-header edit-post-sidebar__panel-tabs"},Object(r.createElement)("ul",{className:"codemirror-tabs"},Object(r.createElement)("li",null,Object(r.createElement)("button",{className:"components-button edit-post-sidebar__panel-tab ".concat("visual"===t?"is-active":""),onClick:function(){return i("visual")}},"Visual")),Object(r.createElement)("li",null,Object(r.createElement)("button",{className:"components-button edit-post-sidebar__panel-tab ".concat("generated"===t?"is-active":""),onClick:function(){return i("generated")}},"Generated")))))},d=i(3),m=i(4),g=i.n(m),h=function(e){var t=Object(r.useRef)(null),i=Object(r.useState)(),n=l()(i,2),o=n[0],a=n[1];return Object(r.useEffect)((function(){if(!o&&t.current){var i=wp.codeEditor.defaultSettings?Object(d.clone)(wp.codeEditor.defaultSettings):{};i.codemirror=Object(d.extend)({},i.codemirror,{mode:e.attributes.mode,firstLineNumber:e.attributes.startingLine,lint:!1}),window.CodeMirror=wp.CodeMirror;var r=wp.codeEditor.initialize(t.current,i);r.codemirror.on("change",(function(t){e.setAttributes({content:t.getValue()})})),a(r),g()(t.current).data("initiated",!0)}}),[t.current]),Object(r.useEffect)((function(){o&&(e.attributes.mode in wp.CodeMirror.modes?o.codemirror.setOption("mode",e.attributes.mode):g.a.ajax({url:"/wp-content/plugins/flyn-syntax/assets/vendor/codemirror/mode/"+e.attributes.mode+"/"+e.attributes.mode+".js",dataType:"script",success:function(){o.codemirror.setOption("mode",e.attributes.mode)},async:!0}))}),[e.attributes.mode,o]),Object(r.useEffect)((function(){o&&o.codemirror.setOption("firstLineNumber",parseInt(e.attributes.startingLine))}),[e.attributes.startingLine]),Object(r.createElement)(s.BaseControl,null,Object(r.createElement)("textarea",{ref:t},e.attributes.content))},p=function(e){var t=Object(r.useState)("visual"),i=l()(t,2),n=i[0],o=i[1];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(u,{viewMode:n,setViewMode:o}),"visual"===n&&Object(r.createElement)(h,e),"visual"!==n&&Object(r.createElement)(c,e))},f=[{mode:"apl",geshi:"applescript"},{mode:"clike",geshi:"c"},{mode:"clojure",geshi:"clojure"},{mode:"cmake",geshi:"cmake"},{mode:"cobol",geshi:"cobol"},{mode:"coffeescript",geshi:"coffeescript"},{mode:"commonlisp",geshi:"lisp"},{mode:"css",geshi:"css"},{mode:"d",geshi:"d"},{mode:"dart",geshi:"dart"},{mode:"diff",geshi:"diff"},{mode:"eiffel",geshi:"eiffel"},{mode:"erlang",geshi:"erlang"},{mode:"go",geshi:"go"},{mode:"groovy",geshi:"groovy"},{mode:"handlebars",geshi:"twig"},{mode:"haskell",geshi:"haskell"},{mode:"haskell-literate",geshi:"haskell"},{mode:"haxe",geshi:"haxe"},{mode:"htmlembedded",geshi:"html5"},{mode:"htmlmixed",geshi:"html5"},{mode:"idl",geshi:"idl"},{mode:"javascript",geshi:"javascript"},{mode:"jsx",geshi:"javascript"},{mode:"julia",geshi:"julia"},{mode:"lua",geshi:"lua"},{mode:"mathematica",geshi:"mathematica"},{mode:"mirc",geshi:"mirc"},{mode:"nginx",geshi:"nginx"},{mode:"nsis",geshi:"nsis"},{mode:"octave",geshi:"octave"},{mode:"oz",geshi:"oz"},{mode:"pascal",geshi:"pascal"},{mode:"perl",geshi:"perl"},{mode:"php",geshi:"php"},{mode:"powershell",geshi:"powershell"},{mode:"properties",geshi:"properties"},{mode:"python",geshi:"python"},{mode:"q",geshi:"q"},{mode:"rpm",geshi:"rpmspec"},{mode:"ruby",geshi:"ruby"},{mode:"rust",geshi:"rust"},{mode:"sas",geshi:"sas"},{mode:"sass",geshi:"sass"},{mode:"scheme",geshi:"scheme"},{mode:"shell",geshi:"bash"},{mode:"smalltalk",geshi:"smalltalk"},{mode:"smarty",geshi:"smarty"},{mode:"sparql",geshi:"sparql"},{mode:"sql",geshi:"sql"},{mode:"swift",geshi:"swift"},{mode:"tcl",geshi:"tcl"},{mode:"twig",geshi:"twig"},{mode:"vb",geshi:"vb"},{mode:"vbscript",geshi:"vbscript"},{mode:"verilog",geshi:"verilog"},{mode:"vhdl",geshi:"vhdl"},{mode:"vue",geshi:"twig"},{mode:"xml",geshi:"xml"},{mode:"yaml",geshi:"yaml"},{mode:"z80",geshi:"z80"}];Object(n.registerBlockType)("flynsarmy/syntax-editor",{title:"Code Block",icon:"editor-code",category:"formatting",description:"Displays a syntax-highlighted code snippet.",attributes:{content:{type:"string",default:""},mode:{type:"string",default:"php"},geshi:{type:"string",default:"php"},startingLine:{type:"integer",default:1},highlightLines:{type:"string"}},edit:function(e){var t=e.setAttributes;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.InspectorControls,null,Object(r.createElement)(s.PanelBody,{title:"Code Settings"},Object(r.createElement)(s.SelectControl,{label:"Language",onChange:function(e){var i=f.filter((function(t){return t.mode===e}))[0];t({mode:e,geshi:i.geshi})},value:e.attributes.mode,options:f.flatMap((function(e){return{value:e.mode,label:e.mode}}))}),Object(r.createElement)(s.TextControl,{type:"integer",label:"Starting line number.",value:e.attributes.startingLine,help:"Set to 0 to hide line numbers.",onChange:function(e){var i=parseInt(e.replace(/([^0-9]+)/gi,""));t({startingLine:isNaN(i)?0:i})},style:{width:"100%"}}),Object(r.createElement)(s.TextControl,{type:"string",label:"Highlight the specified lines.",value:e.attributes.highlightLines,help:"e.g 3-5, 10, 12",onChange:function(e){t({highlightLines:e.replace(/([^0-9,\-]*)/gi,"")})},style:{width:"100%"}}))),Object(r.createElement)(p,e))},save:function(e){return Object(r.createElement)("pre",{lang:e.attributes.mode,line:e.attributes.startingLine,highlight:e.attributes.highlightLines},e.attributes.content)}})}]);